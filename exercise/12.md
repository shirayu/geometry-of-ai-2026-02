# 第12回：双曲幾何学

## 問題 12-1 ★ 双曲空間の円周長

ユークリッド空間と双曲空間で、原点から距離 $r$ の「円周」の長さがどう違うか計算せよ。

**ヒント:** ユークリッド： $2\pi r$ 、双曲（ポアンカレ円板）： $2\pi \sinh(r)$

**解答:**

| 空間 | 半径 $r$ の円周長 | $r=1$ | $r=3$ | $r=5$ |
| --- | --- | --- | --- | --- |
| ユークリッド | $2\pi r$ | 6.28 | 18.8 | 31.4 |
| 双曲 | $2\pi \sinh(r)$ | 7.38 | 62.8 | 466 |

```12_hyperbolic_circumference.py
import numpy as np

for r in [1, 3, 5]:
    euclidean = 2 * np.pi * r
    hyperbolic = 2 * np.pi * np.sinh(r)
    print(f"r={r}: Euclidean={euclidean:.1f}, Hyperbolic={hyperbolic:.1f}")
```

**観察:** 双曲空間では、距離 $r$ に対して円周長が指数的に増加する（ $\sinh(r) \approx e^r/2$ for large $r$ ）。これは「中心から離れるほど空間が広がる」性質であり、木構造（子ノードが増える）の埋め込みに適している。

## 問題 12-2 ★★ ポアンカレ円板への階層埋め込み

WordNetの「動物→哺乳類→犬」という階層を、ポアンカレ円板に埋め込むとき、各ノードの配置はどうなるべきか説明せよ。

**ヒント:** 抽象的な概念と具体的な概念、どちらが中心に近いか？

**解答:**
**配置原則:**

- 抽象的（上位）概念：円板の中心付近
- 具体的（下位）概念：円板の周辺付近

**WordNet例:**

- 「動物」（最も抽象的）：中心に近い位置
- 「哺乳類」（中間）：中心からやや離れた位置
- 「犬」（具体的）：周辺に近い位置

**なぜこれが自然か:**

1. 双曲空間では、中心から離れるほど「部屋」が広がる
2. 具体的な概念（犬、猫、馬、...）は数が多い → 周辺の広い空間に配置
3. 抽象的な概念（動物）は数が少ない → 中心の狭い空間で十分
4. 親子関係は、中心からの距離で自然に表現できる

**追加:** 同じ深さの概念（犬、猫、馬）は、中心からの距離は同じで、角度方向に分散する。

## 問題 12-3 ★★★ 双曲空間の限界

「すべてを双曲空間で表現すれば良い」わけではない理由を、具体例を挙げて説明せよ。

**ヒント:** 双曲空間が不向きなデータ構造は？

**解答:**
**双曲空間が不向きな例:**

1. **格子構造（グリッド）:**
   - 画像のピクセル配置は2次元格子
   - 階層構造がなく、双曲の「指数的拡大」は不要
   - ユークリッド空間が自然

2. **循環構造（リング、トーラス）:**
   - 1週間の曜日、1年の季節
   - 「終わりが始まりに戻る」構造
   - 双曲には「終わり」がない（無限に広がる）
   - 球面やトーラスが適切

3. **等価な関係（クラスタ）:**
   - 同じカテゴリに属する点同士に階層がない
   - 双曲では「すべての点が同距離」を表現しにくい
   - 球面上の均等配置が適切

4. **密なグラフ:**
   - 完全グラフに近い構造
   - 木構造から遠く、双曲の利点が活きない

**結論:** 「データの構造に合わせて幾何学を選ぶ」のが正しいアプローチ。万能の幾何学はない。
